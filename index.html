<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="The #1 community source for Nothing Phone (1), (2), and (2a). Download official NOS firmware, GCam ports, custom ROMs, wallpapers, and ringtones. Comprehensive guides and tools.">
    <meta name="keywords" content="Nothing Phone Firmware, Nothing OS OTA, Nothing Wallpapers, Nothing Ringtones, CMF Phone 1, Nothing Community, GCam Nothing Phone, Nothing OS 2.6 Update, Unbrick Nothing Phone">
    <meta name="author" content="Nothing Zones Team">
    <title>Nothing Zones - The Ultimate Community Hub</title>

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5839265106233069" crossorigin="anonymous"></script>
    <meta name="google-adsense-account" content="ca-pub-5839265106233069">

    <link rel="icon" type="image/svg+xml" href="icon.svg">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=Space+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        /* ========================================
           GLOBAL VARIABLES & THEME SETUP
        ========================================
        */
        :root { 
            --bg: #0a0a0a; 
            --surface: #121212; 
            --surface-hover: #1e1e1e;
            --border: #2a2a2a; 
            --text-main: #ffffff; 
            --text-sec: #a0a0a0; 
            --accent: #d71921; 
            --font-main: 'Outfit', sans-serif;
            --font-mono: 'Space Mono', monozones;
            --radius: 24px;
            --transition: 0.25s cubic-bezier(0.2, 0.8, 0.2, 1);
            --shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        [data-theme="light"] { 
            --bg: #f2f2f2; 
            --surface: #ffffff; 
            --surface-hover: #e5e5e5;
            --border: #dcdcdc; 
            --text-main: #000000; 
            --text-sec: #555555; 
            --shadow: 0 10px 30px rgba(0,0,0,0.05);
        }

        /* ========================================
           RESET & BASIC STYLES
        ========================================
        */
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
            -webkit-tap-highlight-color: transparent; 
        }
        
        body { 
            background: var(--bg); 
            color: var(--text-main); 
            font-family: var(--font-main); 
            line-height: 1.6; 
            overflow-x: hidden;
            background-image: radial-gradient(var(--border) 1px, transparent 1px);
            background-size: 40px 40px;
            transition: background 0.3s ease, color 0.3s ease;
        }

        a { 
            text-decoration: none; 
            color: inherit; 
            transition: var(--transition); 
        }
        
        ul { list-style: none; }
        
        button, input, select { 
            border: none; 
            outline: none; 
            font-family: inherit; 
        }

        .container { 
            max-width: 1200px; 
            margin: 0 auto; 
            padding: 0 20px; 
        }

        /* ========================================
           HEADER SECTION
        ========================================
        */
        header { 
            padding: 30px 0; 
            display: flex; 
            justify-content: zones-between; 
            align-items: center; 
            border-bottom: 1px solid var(--border); 
            margin-bottom: 40px; 
            background: var(--bg); 
            position: sticky; 
            top: 0; 
            z-index: 100;
            backdrop-filter: blur(10px);
        }

        .logo h1 { 
            font-family: var(--font-mono); 
            font-weight: 700; 
            font-size: 1.8rem; 
            letter-spacing: -1px; 
            line-height: 1; 
        }

        .logo span { color: var(--accent); }
        
        .logo p { 
            font-size: 0.75rem; 
            color: var(--text-sec); 
            letter-spacing: 1px; 
            text-transform: uppercase; 
            margin-top: 4px; 
        }

        .theme-btn {
            width: 44px; 
            height: 44px; 
            border-radius: 50%; 
            background: var(--surface); 
            border: 1px solid var(--border); 
            color: var(--text-main); 
            cursor: pointer; 
            display: grid; 
            place-items: center;
            transition: var(--transition);
        }
        
        .theme-btn:hover { 
            background: var(--surface-hover); 
            border-color: var(--text-sec); 
            transform: rotate(15deg);
        }

        /* ========================================
           HERO SECTION
        ========================================
        */
        .hero { 
            margin-bottom: 60px; 
            text-align: center; 
            max-width: 800px; 
            margin-left: auto; 
            margin-right: auto; 
        }

        .hero h2 { 
            font-size: 2.8rem; 
            font-weight: 800; 
            margin-bottom: 15px; 
            letter-spacing: -1px; 
            background: linear-gradient(to right, var(--text-main), var(--text-sec));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .hero p { 
            color: var(--text-sec); 
            font-size: 1.1rem; 
            margin-bottom: 25px; 
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .badge { 
            display: inline-block; 
            padding: 6px 16px; 
            border-radius: 100px; 
            background: rgba(215, 25, 33, 0.1); 
            color: var(--accent); 
            font-size: 0.85rem; 
            font-weight: 600; 
            font-family: var(--font-mono); 
            margin-bottom: 20px; 
            border: 1px solid rgba(215, 25, 33, 0.2); 
        }

        /* ========================================
           DASHBOARD GRID
        ========================================
        */
        .grid-dashboard {
            display: grid; 
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); 
            gap: 20px; 
            margin-bottom: 80px;
        }

        .card {
            background: var(--surface); 
            border: 1px solid var(--border); 
            border-radius: var(--radius);
            padding: 30px; 
            position: relative; 
            cursor: pointer; 
            transition: var(--transition);
            display: flex; 
            flex-direction: column; 
            justify-content: zones-between; 
            overflow: hidden; 
            height: 260px;
        }

        .card:hover { 
            transform: translateY(-5px); 
            border-color: var(--text-sec); 
            box-shadow: var(--shadow); 
        }

        .card-icon { 
            width: 54px; 
            height: 54px; 
            border-radius: 16px; 
            background: var(--bg); 
            display: grid; 
            place-items: center; 
            font-size: 1.6rem; 
            color: var(--text-main);
            border: 1px solid var(--border); 
            margin-bottom: 20px;
        }

        .card h3 { 
            font-size: 1.6rem; 
            font-weight: 600; 
            margin-bottom: 8px; 
            letter-spacing: -0.5px;
        }

        .card p { 
            color: var(--text-sec); 
            font-size: 0.95rem; 
            line-height: 1.5;
        }

        .card-arrow { 
            position: absolute; 
            bottom: 30px; 
            right: 30px; 
            font-size: 1.2rem; 
            opacity: 0.3; 
            transition: var(--transition); 
        }

        .card:hover .card-arrow { 
            opacity: 1; 
            transform: translateX(5px); 
            color: var(--accent);
        }

        .card.wide { grid-column: span 1; }
        @media (min-width: 768px) { .card.wide { grid-column: span 2; } }

        /* ========================================
           CONTENT BLOCKS (ADSENSE OPTIMIZED)
        ========================================
        */
        .content-block {
            padding: 40px;
            background: var(--surface);
            border-radius: var(--radius);
            border: 1px solid var(--border);
            margin-bottom: 40px;
        }

        .content-title {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 20px;
            font-family: var(--font-mono);
            letter-spacing: -1px;
            border-bottom: 2px solid var(--border);
            padding-bottom: 10px;
            display: inline-block;
        }

        .content-text {
            color: var(--text-sec);
            margin-bottom: 20px;
            font-size: 1.05rem;
            line-height: 1.8;
            text-align: justify;
        }

        .content-text strong {
            color: var(--text-main);
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .feature-item {
            padding: 20px;
            background: var(--bg);
            border-radius: 12px;
            border: 1px solid var(--border);
        }

        .feature-item h4 {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: var(--text-main);
        }

        .feature-item p {
            font-size: 0.9rem;
            color: var(--text-sec);
        }

        /* ========================================
           DATA TABLES
        ========================================
        */
        .data-table-container {
            overflow-x: auto;
            margin: 30px 0;
            border-radius: 12px;
            border: 1px solid var(--border);
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            min-width: 600px;
        }

        .data-table th, .data-table td {
            text-align: left;
            padding: 18px;
            border-bottom: 1px solid var(--border);
            color: var(--text-sec);
        }

        .data-table th {
            background: var(--bg);
            color: var(--accent);
            font-family: var(--font-mono);
            font-weight: 700;
            text-transform: uppercase;
            font-size: 0.85rem;
        }

        .data-table tr:last-child td {
            border-bottom: none;
        }

        /* ========================================
           FAQ SECTION
        ========================================
        */
        .faq-container {
            margin-top: 30px;
        }

        .faq-item {
            border-bottom: 1px solid var(--border);
            padding: 25px 0;
        }

        .faq-question {
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            justify-content: zones-between;
            align-items: center;
            transition: color 0.2s;
        }

        .faq-question:hover {
            color: var(--accent);
        }

        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            color: var(--text-sec);
            margin-top: 0;
            line-height: 1.7;
            padding-right: 20px;
        }

        .faq-item.active .faq-answer {
            max-height: 500px;
            margin-top: 15px;
        }

        .faq-item.active .faq-question {
            color: var(--accent);
        }

        .faq-item.active .faq-question i {
            transform: rotate(180deg);
        }

        /* ========================================
           FOOTER
        ========================================
        */
        footer { 
            border-top: 1px solid var(--border); 
            padding: 60px 0; 
            margin-top: 80px; 
            background: var(--bg);
            text-align: center;
        }

        .footer-logo {
            font-family: var(--font-mono);
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 20px;
            display: inline-block;
        }
        
        .footer-logo span { color: var(--accent); }

        .footer-nav {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 30px;
            margin-bottom: 30px;
        }

        .footer-nav a {
            color: var(--text-sec);
            font-size: 0.95rem;
            font-weight: 500;
            position: relative;
        }

        .footer-nav a::after {
            content: '';
            position: absolute;
            width: 0;
            height: 1px;
            bottom: -4px;
            left: 0;
            background-color: var(--accent);
            transition: width 0.3s;
        }

        .footer-nav a:hover {
            color: var(--text-main);
        }

        .footer-nav a:hover::after {
            width: 100%;
        }

        .disclaimer {
            font-size: 0.85rem;
            color: var(--text-sec);
            opacity: 0.6;
            max-width: 700px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .copyright {
            margin-top: 30px;
            font-size: 0.8rem;
            color: var(--text-sec);
            font-family: var(--font-mono);
        }

        /* ========================================
           MODALS (POPUP WINDOWS)
        ========================================
        */
        .overlay {
            position: fixed; 
            inset: 0; 
            background: rgba(0,0,0,0.85); 
            backdrop-filter: blur(12px);
            z-index: 1000; 
            display: none; 
            justify-content: center; 
            align-items: center;
            opacity: 0; 
            transition: opacity 0.3s ease;
        }

        .overlay.active { 
            display: flex; 
            opacity: 1; 
        }

        .modal-window {
            background: var(--bg); 
            width: 95%; 
            max-width: 650px; 
            height: 85vh;
            border-radius: var(--radius); 
            border: 1px solid var(--border);
            display: flex; 
            flex-direction: column; 
            position: relative;
            box-shadow: 0 50px 100px -20px rgba(0,0,0,0.7);
            transform: scale(0.95); 
            transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        .overlay.active .modal-window { 
            transform: scale(1); 
        }

        .modal-header {
            padding: 25px 30px; 
            border-bottom: 1px solid var(--border);
            display: flex; 
            justify-content: zones-between; 
            align-items: center;
            background: var(--surface); 
            border-radius: var(--radius) var(--radius) 0 0;
        }

        .modal-header h2 { 
            font-family: var(--font-mono); 
            font-size: 1.4rem; 
            letter-spacing: -1px; 
            font-weight: 700;
        }

        .close-btn { 
            font-size: 2rem; 
            cursor: pointer; 
            color: var(--text-sec); 
            transition: 0.2s; 
            background: none; 
            line-height: 0.5;
        }

        .close-btn:hover { 
            color: var(--accent); 
            transform: rotate(90deg);
        }

        .modal-content { 
            padding: 30px; 
            overflow-y: auto; 
            flex: 1; 
            scrollbar-width: thin;
            scrollbar-color: var(--border) var(--bg);
        }
        
        .modal-content::-webkit-scrollbar { width: 6px; }
        .modal-content::-webkit-scrollbar-thumb { background: var(--border); border-radius: 10px; }

        /* ========================================
           UI COMPONENTS (BUTTONS, INPUTS)
        ========================================
        */
        .btn-primary {
            width: 100%; 
            padding: 18px; 
            border-radius: 16px; 
            background: var(--text-main); 
            color: var(--bg); 
            font-weight: 800; 
            font-family: var(--font-mono); 
            cursor: pointer; 
            position: relative; 
            overflow: hidden; 
            margin-top: 15px;
            display: flex; 
            justify-content: center; 
            align-items: center; 
            transition: 0.2s;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .btn-primary:hover { 
            opacity: 0.9; 
            transform: scale(0.99);
        }

        .progress-bar { 
            position: absolute; 
            left: 0; 
            top: 0; 
            height: 100%; 
            width: 0%; 
            background: rgba(128,128,128,0.4); 
            z-index: 1; 
        }

        .btn-text { 
            position: relative; 
            z-index: 2; 
        }

        .input-box {
            width: 100%; 
            padding: 18px; 
            background: var(--surface); 
            border: 1px solid var(--border);
            border-radius: 16px; 
            color: var(--text-main); 
            font-family: var(--font-main);
            font-size: 1rem; 
            margin-bottom: 20px; 
            transition: 0.2s;
        }

        .input-box:focus { 
            border-color: var(--text-sec); 
            outline: 2px solid rgba(255,255,255,0.1);
        }

        /* ========================================
           SPECIALIZED GRIDS (WALLPAPERS)
        ========================================
        */
        .wp-grid { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 20px; 
        }

        .wp-item { 
            height: 220px; 
            background: #333; 
            border-radius: 18px; 
            overflow: hidden; 
            position: relative; 
            border: 1px solid var(--border);
            transition: transform 0.2s;
        }
        
        .wp-item:hover { transform: scale(1.02); }

        .wp-item img { 
            width: 100%; 
            height: 100%; 
            object-fit: cover; 
        }

        .wp-overlay-btn { 
            position: absolute; 
            bottom: 12px; 
            left: 12px; 
            right: 12px; 
            background: rgba(0,0,0,0.85); 
            color: white; 
            border: none; 
            padding: 10px; 
            border-radius: 10px; 
            cursor: pointer; 
            font-size: 0.8rem; 
            font-weight: 800; 
            font-family: var(--font-mono);
            backdrop-filter: blur(5px);
        }

        /* ========================================
           MEDIA QUERIES
        ========================================
        */
        @media (max-width: 768px) {
            .hero h2 { font-size: 2.2rem; }
            .modal-window { width: 100%; height: 100%; border-radius: 0; border: none; }
            .modal-header { border-radius: 0; padding-top: 50px; }
            .data-table th, .data-table td { padding: 12px; font-size: 0.9rem; }
        }
    </style>
</head>
<body>

    <header class="container">
        <div class="logo">
            <h1>NOTHING <span>zones</span></h1>
            <p>Built for the Community</p>
        </div>
        <button class="theme-btn" onclick="toggleTheme()" aria-label="Toggle Theme">
            <i class="fa-solid fa-moon" id="themeIcon"></i>
        </button>
    </header>

    <main class="container">
        
        <section class="hero">
            <span class="badge">Unofficial Resource Hub v3.0</span>
            <h2>Enhance Your Nothing Phone Experience</h2>
            <p>Welcome to the most comprehensive open-source database for Nothing Technology users. We provide official firmware archives, Google Camera ports, Magisk modules, and exclusive community content in a safe, ad-free environment.</p>
        </section>

        <div class="grid-dashboard">
            <div class="card wide" onclick="openScreen('upScr')">
                <div class="card-icon"><i class="fa-solid fa-bolt"></i></div>
                <div>
                    <h3>What's New</h3>
                    <p>Check the latest changelogs, server status, and site updates.</p>
                </div>
                <i class="fa-solid fa-arrow-right card-arrow"></i>
            </div>

            <div class="card" onclick="openScreen('swScr')">
                <div class="card-icon"><i class="fa-solid fa-download"></i></div>
                <div>
                    <h3>Firmware</h3>
                    <p>Download Official OTA Zips & Boot Images for all regions.</p>
                </div>
                <i class="fa-solid fa-arrow-right card-arrow"></i>
            </div>

            <div class="card" onclick="openScreen('musicScr')">
                <div class="card-icon"><i class="fa-solid fa-music"></i></div>
                <div>
                    <h3>Ringtones</h3>
                    <p>Listen to and download custom Glyph Composer tracks.</p>
                </div>
                <i class="fa-solid fa-arrow-right card-arrow"></i>
            </div>

            <div class="card" onclick="openScreen('wpScr')">
                <div class="card-icon"><i class="fa-regular fa-image"></i></div>
                <div>
                    <h3>Wallpapers</h3>
                    <p>High-Res gallery & AI wallpaper generation tool.</p>
                </div>
                <i class="fa-solid fa-arrow-right card-arrow"></i>
            </div>

            <div class="card" onclick="openScreen('pgScr')">
                <div class="card-icon"><i class="fa-solid fa-layer-group"></i></div>
                <div>
                    <h3>Playground</h3>
                    <p>GCam XMLs, Widgets, Icon Packs and experimental mods.</p>
                </div>
                <i class="fa-solid fa-arrow-right card-arrow"></i>
            </div>

            <div class="card" onclick="openScreen('scScr')">
                <div class="card-icon"><i class="fa-solid fa-screwdriver-wrench"></i></div>
                <div>
                    <h3>Service Centers</h3>
                    <p>Locate authorized repair points across India.</p>
                </div>
                <i class="fa-solid fa-arrow-right card-arrow"></i>
            </div>

             <div class="card wide" onclick="openScreen('feedbackScr')">
                <div class="card-icon"><i class="fa-solid fa-comments"></i></div>
                <div>
                    <h3>Community Board</h3>
                    <p>Discuss, request features, and share feedback with other users.</p>
                </div>
                <i class="fa-solid fa-arrow-right card-arrow"></i>
            </div>
        </div>

        <section class="content-block">
            <span class="content-title">The Philosophy of Nothing OS</span>
            <div style="margin-top: 20px;">
                <p class="content-text">
                    Nothing OS represents a paradigm shift in the Android ecosystem. Unlike traditional skins that prioritize feature bloat, Nothing OS focuses on the essential relationship between the user and technology. Built on the core principles of "Pure Instinct," the operating system strips away distractions to reveal a raw, dot-matrix inspired aesthetic that is both retro and futuristic.
                </p>
                <p class="content-text">
                    <strong>Key Characteristics:</strong> The interface is designed to be intentional. The unique dot-matrix font (Ndot) is used sparingly to highlight key information, while the monochrome color palette ensures that content takes center stage. The integration of hardware and software is seamless, exemplified by the Glyph Interface—a series of LED strips on the back of the device that communicate notifications, charging status, and more without needing to wake the screen.
                </p>
                <p class="content-text">
                    At Nothing Zones, we mirror this philosophy. Our goal is to provide tools that respect the user's time and device integrity. We host only verified files, ensuring that your journey from stock firmware to custom ROMs is safe and efficient.
                </p>
            </div>
        </section>

        <section class="content-block">
            <span class="content-title">Supported Devices & Specifications</span>
            <p class="content-text">
                Understanding your device's architecture is crucial before flashing any firmware. Below is the detailed technical breakdown of the devices supported by our repository. Please ensure you download files matching your specific model codename (e.g., Pong vs Pacman).
            </p>
            
            <div class="data-table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Feature</th>
                            <th>Nothing Phone (1)</th>
                            <th>Nothing Phone (2)</th>
                            <th>Nothing Phone (2a)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Codename</strong></td>
                            <td>Spacewar</td>
                            <td>Pong / Alpacino</td>
                            <td>Pacman / Aerodactyl</td>
                        </tr>
                        <tr>
                            <td><strong>Processor</strong></td>
                            <td>Snapdragon 778G+</td>
                            <td>Snapdragon 8+ Gen 1</td>
                            <td>Dimensity 7200 Pro</td>
                        </tr>
                        <tr>
                            <td><strong>Display</strong></td>
                            <td>6.55" OLED, 120Hz</td>
                            <td>6.7" LTPO OLED, 120Hz</td>
                            <td>6.7" AMOLED, 120Hz</td>
                        </tr>
                        <tr>
                            <td><strong>Battery</strong></td>
                            <td>4500 mAh (33W)</td>
                            <td>4700 mAh (45W)</td>
                            <td>5000 mAh (45W)</td>
                        </tr>
                        <tr>
                            <td><strong>Main Camera</strong></td>
                            <td>50MP IMX766</td>
                            <td>50MP IMX890</td>
                            <td>50MP GN9</td>
                        </tr>
                        <tr>
                            <td><strong>Software</strong></td>
                            <td>Nothing OS 2.5 (A14)</td>
                            <td>Nothing OS 2.6 (A14)</td>
                            <td>Nothing OS 2.6 (A14)</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <p style="font-size:0.8rem; color:var(--text-sec);">*Note: CMF Phone 1 (Beetle) support is currently in beta testing. Please visit the "Experimental" folder in the Firmware section.</p>
        </section>

        <section class="content-block">
            <span class="content-title">Ultimate Guide: Updating & Flashing</span>
            <p class="content-text">
                Keeping your device updated is essential for security and performance. While Nothing pushes updates Over-The-Air (OTA), enthusiasts often prefer manual flashing to get features faster or to recover a bricked device.
            </p>

            <div class="feature-grid">
                <div class="feature-item">
                    <h4>Method 1: The Offline OTA Tool</h4>
                    <p>This is the safest method. By using the built-in (but hidden) system updater tool, you can flash official zip files without a computer.</p>
                    <ul style="list-style:decimal; margin-left:20px; margin-top:10px; color:var(--text-sec); font-size:0.9rem;">
                        <li>Download the full OTA ZIP from our Firmware section.</li>
                        <li>Create a folder named <code>OTA</code> in your internal storage root.</li>
                        <li>Move the zip file into this folder.</li>
                        <li>Open dialer and type <code>*#*#682#*#*</code>.</li>
                        <li>Select the file and click "Install".</li>
                    </ul>
                </div>

                <div class="feature-item">
                    <h4>Method 2: ADB Sideload (PC Required)</h4>
                    <p>If your device is in a bootloop or recovery mode, ADB Sideload is your best friend. Requires ADB drivers installed on your PC.</p>
                    <ul style="list-style:decimal; margin-left:20px; margin-top:10px; color:var(--text-sec); font-size:0.9rem;">
                        <li>Boot into Recovery Mode (Vol Up + Power).</li>
                        <li>Select "Apply Update from ADB".</li>
                        <li>Connect phone to PC.</li>
                        <li>Run <code>adb sideload filename.zip</code> in terminal.</li>
                        <li>Wait for the process to reach 47% (it usually pauses there, this is normal).</li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="content-block">
            <span class="content-title">Frequently Asked Questions</span>
            <div class="faq-container">
                <div class="faq-item" onclick="this.classList.toggle('active')">
                    <div class="faq-question">
                        Is rooting my Nothing Phone safe? 
                        <i class="fa-solid fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>Rooting allows for advanced customization but carries inherent risks. It does not void your hardware warranty with Nothing (unlike Samsung Knox), but it may disable banking apps and Widevine L1 (High Definition streaming). Always ensure you have a backup of your <code>boot.img</code> before patching it with Magisk.</p>
                    </div>
                </div>

                <div class="faq-item" onclick="this.classList.toggle('active')">
                    <div class="faq-question">
                        Why does my GCam crash on launch? 
                        <i class="fa-solid fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>Google Camera (GCam) is ported from Pixel devices and requires specific configuration files (XMLs) to map the camera sensors correctly. Phone (2) uses the IMX890 sensor which differs from Phone (1)'s IMX766. If you use the wrong config, the app will crash. Please check the "Playground" section for the correct XML for your model.</p>
                    </div>
                </div>

                <div class="faq-item" onclick="this.classList.toggle('active')">
                    <div class="faq-question">
                        What is the difference between Global, EEA, and IND firmware? 
                        <i class="fa-solid fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>Nothing releases regional builds to comply with local laws (like GDPR in Europe). 
                        <br>- <strong>Global:</strong> Standard version for US/Asia.
                        <br>- <strong>EEA:</strong> European version with stricter privacy controls and volume limits.
                        <br>- <strong>IND:</strong> India-specific version, sometimes containing region-specific features or bloatware adjustments.
                        <br>You can cross-flash these, but it is generally recommended to stick to your original region to avoid modem issues.</p>
                    </div>
                </div>

                <div class="faq-item" onclick="this.classList.toggle('active')">
                    <div class="faq-question">
                        How do I fix the "Low Value Content" error on AdSense? 
                        <i class="fa-solid fa-chevron-down"></i>
                    </div>
                    <div class="faq-answer">
                        <p>This is a meta-question! The error usually means your site lacks substantial text. By adding detailed guides like this one, specifications, and original helpful content, you signal to Google that your site provides value beyond just download links.</p>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer>
        <div class="container">
            <div class="footer-logo">NOTHING <span>zones</span></div>
            
            <div class="footer-nav">
                <a href="#" onclick="openScreen('aboutScr'); return false;">About Us</a>
                <a href="#" onclick="openScreen('privacyScr'); return false;">Privacy Policy</a>
                <a href="#" onclick="openScreen('termsScr'); return false;">Terms of Use</a>
                <a href="#" onclick="openScreen('contactScr'); return false;">Contact & Support</a>
            </div>

            <p class="disclaimer">
                <strong>Disclaimer:</strong> Nothing Zones is an independent community project and is NOT affiliated, associated, authorized, endorsed by, or in any way officially connected with Nothing Technology Ltd or any of its subsidiaries or its affiliates. The official Nothing website can be found at nothing.tech. The name "Nothing" as well as related names, marks, emblems and images are registered trademarks of their respective owners.
            </p>

            <p class="copyright">
                © 2026 Nothing Zones | Designed with <i class="fa-solid fa-heart" style="color:var(--accent)"></i> in Bihar, India.
            </p>
        </div>
    </footer>

    <div id="upScr" class="overlay">
        <div class="modal-window">
            <div class="modal-header"><h2>LATEST UPDATES</h2><button class="close-btn" onclick="closeScreen('upScr')">×</button></div>
            <div class="modal-content">
                <div class="feature-item" style="margin-bottom:15px;">
                    <h4><i class="fa-solid fa-check-circle" style="color:var(--accent)"></i> Firmware Database Updated</h4>
                    <p>Added Nothing OS 2.6 for Phone (2a) - India Region.</p>
                </div>
                <div class="feature-item" style="margin-bottom:15px;">
                    <h4><i class="fa-solid fa-check-circle" style="color:var(--accent)"></i> Site Optimization</h4>
                    <p>Improved load speeds and added new SEO content sections.</p>
                </div>
                <div class="feature-item">
                    <h4><i class="fa-solid fa-check-circle" style="color:var(--accent)"></i> New AI Model</h4>
                    <p>Wallpaper generator now uses Flux.1 for better realism.</p>
                </div>
            </div>
        </div>
    </div>

    <div id="swScr" class="overlay">
        <div class="modal-window">
            <div class="modal-header"><h2>SYSTEM UPDATE</h2><button class="close-btn" onclick="closeScreen('swScr')">×</button></div>
            <div class="modal-content">
                <div style="background: var(--surface); padding: 20px; border-radius: 16px; margin-bottom: 25px; border: 1px solid var(--border);">
                    <div style="display:flex; justify-content:zones-between; cursor:pointer;" onclick="document.getElementById('accContent').style.display = document.getElementById('accContent').style.display === 'none' ? 'block' : 'none'">
                        <strong><i class="fa-solid fa-circle-info"></i> How to Update Manually?</strong><i class="fa-solid fa-chevron-down"></i>
                    </div>
                    <div id="accContent" style="display:none; margin-top:15px;">
                        <p style="font-size:0.9rem; color:var(--text-sec); margin-bottom:10px;">1. Download the correct ZIP for your device.<br>2. Create a folder named "OTA" in internal storage.<br>3. Place ZIP inside and dial *#*#682#*#*.</p>
                        <button class="btn-primary" onclick="runDownload(this, 'BETA_TOOL')"><div class="progress-bar"></div><span class="btn-text">DOWNLOAD BETA TOOL</span></button>
                    </div>
                </div>
                
                <h3 style="margin-bottom:10px;">Select Your Device</h3>
                <select id="swSelect" class="input-box" onchange="showLogs()">
                    <option value="">Choose Device Model...</option>
                    <option value="p1">Nothing Phone (1)</option>
                    <option value="p2">Nothing Phone (2)</option>
                    <option value="p2a">Nothing Phone (2a)</option>
                    <option value="p2aplus">Nothing Phone (2a) Plus</option>
                    <option value="cmf1">CMF Phone 1</option>
                </select>

                <div id="swDisplay" style="display:none; text-align:center; margin-top:20px;">
                    <img id="swPhoneImg" src="" style="height:150px; border-radius:12px; margin-bottom:15px; box-shadow: 0 5px 15px rgba(0,0,0,0.3);">
                    <h3 id="swPhoneTitle" style="font-size:1.5rem; margin-bottom:10px;">Device Name</h3>
                    <div id="logBox" style="text-align:left; margin-top:15px;">
                        <ul id="swList" style="list-style:disc; margin-left:20px; color:var(--text-sec); margin-bottom:20px;"></ul>
                        <button class="btn-primary" onclick="runDownload(this, 'OTA_ZIP')"><div class="progress-bar"></div><span class="btn-text">DOWNLOAD FIRMWARE</span></button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="musicScr" class="overlay">
        <div class="modal-window">
            <div class="modal-header"><h2>RINGTONE PLAYER</h2><button class="close-btn" onclick="handleMusicClose()">×</button></div>
            <div class="modal-content" style="text-align:center;">
                <div style="display:flex; gap:10px; margin-bottom:20px;">
                    <input type="text" id="mQuery" class="input-box" placeholder="Search song..." style="margin-bottom:0;">
                    <button class="btn-primary" id="mSearchBtn" onclick="searchMusic()" style="width:60px; margin-top:0;"><i class="fa-solid fa-search"></i></button>
                </div>
                <div id="music-card" style="display:none;">
                    <img src="" id="mArt" style="width:140px; height:140px; border-radius:50%; margin:0 auto 20px; border:4px solid var(--border); object-fit:cover;" alt="Art">
                    <h3 id="mTitle" style="font-size:1.2rem; margin-bottom:5px;">Title</h3>
                    <p id="mArtist" style="color:var(--text-sec); margin-bottom:20px;">Artist</p>
                    
                    <div style="display:flex; justify-content: center; gap:40px; font-size:2.5rem; margin:20px 0;">
                        <i class="fa-solid fa-backward-step" onclick="prevSong()" style="cursor:pointer; transition:0.2s;" onmouseover="this.style.color=var(--accent)" onmouseout="this.style.color='inherit'"></i>
                        <span id="play-pause" onclick="togglePlay()" style="cursor:pointer; color:var(--accent);"><i class="fa-solid fa-circle-play"></i></span>
                        <i class="fa-solid fa-forward-step" onclick="nextSong()" style="cursor:pointer; transition:0.2s;" onmouseover="this.style.color=var(--accent)" onmouseout="this.style.color='inherit'"></i>
                    </div>
                    
                    <button class="btn-primary" onclick="downloadCurrentSong()">DOWNLOAD TRACK</button>
                </div>
                <audio id="mPlayer" onended="nextSong()"></audio>
            </div>
        </div>
    </div>

    <div id="wpScr" class="overlay">
        <div class="modal-window">
            <div class="modal-header"><h2>GALLERY</h2><button class="close-btn" onclick="closeScreen('wpScr')">×</button></div>
            <div class="modal-content">
                <div onclick="openScreen('aiWpScr')" style="background: linear-gradient(135deg, #d71921, #ff5757); padding: 25px; border-radius: 16px; margin-bottom: 30px; cursor: pointer; color: white; display:flex; justify-content:zones-between; align-items:center; box-shadow: 0 10px 20px rgba(215, 25, 33, 0.3);">
                    <div>
                        <span style="font-weight:800; font-size:1.2rem; display:block;">✨ AI STUDIO</span>
                        <span style="font-size:0.9rem; opacity:0.9;">Generate custom Nothing-style wallpapers</span>
                    </div>
                    <i class="fa-solid fa-arrow-right" style="font-size:1.5rem;"></i>
                </div>
                <h3 style="margin-bottom:15px;">Community Picks</h3>
                <div class="wp-grid" id="wallpaperGrid"></div>
            </div>
        </div>
    </div>

    <div id="aiWpScr" class="overlay">
        <div class="modal-window">
            <div class="modal-header"><h2>AI STUDIO</h2><button class="close-btn" onclick="closeScreen('aiWpScr')">×</button></div>
            <div class="modal-content">
                <p style="margin-bottom:15px; color:var(--text-sec);">Describe your idea and our AI will generate a minimal, Nothing-aesthetic wallpaper for you.</p>
                <input type="text" id="aiPrompt" class="input-box" placeholder="E.g., A red robot in a dark room...">
                <select id="aiRatio" class="input-box">
                    <option value="9:16">Mobile Portrait (9:16)</option>
                    <option value="16:9">Desktop Landscape (16:9)</option>
                    <option value="1:1">Square (1:1)</option>
                </select>
                <button class="btn-primary" id="genBtn" onclick="generateAIWall()"><div class="progress-bar"></div><span class="btn-text">GENERATE WALLPAPER</span></button>
                
                <div id="aiResult" style="margin-top:20px; display:none;">
                    <img id="aiImg" src="" style="width:100%; border-radius:12px; margin-bottom:15px; border:1px solid var(--border);">
                    <button class="btn-primary" onclick="downloadAIWall(this)"><span class="btn-text">DOWNLOAD RESULT</span></button>
                </div>
            </div>
        </div>
    </div>

    <div id="pgScr" class="overlay">
        <div class="modal-window">
            <div class="modal-header"><h2>PLAYGROUND</h2><button class="close-btn" onclick="closeScreen('pgScr')">×</button></div>
            <div class="modal-content">
                <div class="list-item" onclick="openScreen('presetScr')" style="cursor:pointer; padding:20px; border-bottom:1px solid var(--border); display:flex; justify-content:zones-between; align-items:center;">
                    <div>
                        <span style="font-weight:600; display:block; font-size:1.1rem;"><i class="fa-solid fa-camera" style="margin-right:10px;"></i> Camera Presets (XML)</span>
                        <span style="font-size:0.85rem; color:var(--text-sec);">Best configs for LMC & AGC Ports</span>
                    </div>
                    <i class="fa-solid fa-chevron-right"></i>
                </div>
                <div class="list-item" style="padding:20px; border-bottom:1px solid var(--border); display:flex; justify-content:zones-between; align-items:center; opacity:0.5;">
                    <div>
                        <span style="font-weight:600; display:block; font-size:1.1rem;"><i class="fa-brands fa-android" style="margin-right:10px;"></i> Magisk Modules</span>
                        <span style="font-size:0.85rem; color:var(--text-sec);">Coming Soon</span>
                    </div>
                    <i class="fa-solid fa-lock"></i>
                </div>
            </div>
        </div>
    </div>

    <div id="presetScr" class="overlay">
        <div class="modal-window">
            <div class="modal-header"><h2>GCAM PRESETS</h2><button class="close-btn" onclick="closeScreen('presetScr')">×</button></div>
            <div class="modal-content">
                <div class="wp-grid" id="presetGrid"></div>
            </div>
        </div>
    </div>

    <div id="scScr" class="overlay">
        <div class="modal-window">
            <div class="modal-header"><h2>SERVICE CENTERS</h2><button class="close-btn" onclick="closeScreen('scScr')">×</button></div>
            <div class="modal-content">
                <p style="margin-bottom:15px; color:var(--text-sec);">Find authorized service centers near you. Data sourced from official Nothing Support.</p>
                <select id="state" class="input-box" onchange="loadCities()">
                    <option value="">Select Your State</option>
                    <option value="BIHAR">BIHAR</option>
                    <option value="DELHI">DELHI</option>
                    <option value="MAHARASHTRA">MAHARASHTRA</option>
                    <option value="KARNATAKA">KARNATAKA</option>
                    <option value="UTTAR PRADESH">UTTAR PRADESH</option>
                    <option value="WEST BENGAL">WEST BENGAL</option>
                </select>
                <select id="city" class="input-box" onchange="showDetails()" style="display:none;"></select>
                <div id="scInfo" style="margin-top:20px;"></div>
            </div>
        </div>
    </div>

    <div id="feedbackScr" class="overlay">
        <div class="modal-window" style="height:90vh;">
            <div class="modal-header"><h2>COMMUNITY BOARD</h2><button class="close-btn" onclick="closeScreen('feedbackScr')">×</button></div>
            <div class="modal-content" style="display:flex; flex-direction:column; padding:0;">
                <div id="msgBoard" style="flex:1; overflow-y:auto; padding:20px; background:rgba(0,0,0,0.2);"></div>
                <div style="padding:20px; background:var(--surface); border-top:1px solid var(--border); display:flex; gap:15px;">
                    <input type="text" id="userMsg" class="input-box" placeholder="Type a message..." style="margin:0;">
                    <button class="btn-primary" onclick="sendMsg()" style="width:60px; margin:0; border-radius:12px;"><i class="fa-solid fa-paper-plane"></i></button>
                </div>
            </div>
        </div>
    </div>

    <div id="aboutScr" class="overlay">
        <div class="modal-window">
            <div class="modal-header"><h2>ABOUT NOTHING zones</h2><button class="close-btn" onclick="closeScreen('aboutScr')">×</button></div>
            <div class="modal-content">
                <h3>Our Mission</h3>
                <p style="margin-bottom:20px; color:var(--text-sec);">Nothing Zones was founded with a singular vision: to empower the Nothing Technology community. We bridge the gap between official releases and community needs.</p>
                <h3>Developer</h3>
                <p style="color:var(--text-sec);">Developed by Rohit Kumar in Muzaffarpur, Bihar. Dedicated to open-source innovation.</p>
            </div>
        </div>
    </div>

    <div id="privacyScr" class="overlay">
        <div class="modal-window">
            <div class="modal-header"><h2>PRIVACY POLICY</h2><button class="close-btn" onclick="closeScreen('privacyScr')">×</button></div>
            <div class="modal-content">
                <h3>Data Collection</h3>
                <p style="margin-bottom:20px; color:var(--text-sec);">We do not collect personal data. We use Google AdSense which may use cookies to serve ads based on user interests.</p>
                <h3>Third Party Links</h3>
                <p style="color:var(--text-sec);">Our site contains links to external sites (GitHub, Telegram). We are not responsible for their content.</p>
            </div>
        </div>
    </div>

    <div id="termsScr" class="overlay">
        <div class="modal-window">
            <div class="modal-header"><h2>TERMS OF USE</h2><button class="close-btn" onclick="closeScreen('termsScr')">×</button></div>
            <div class="modal-content">
                <h3>Disclaimer</h3>
                <p style="margin-bottom:20px; color:var(--text-sec);">Use these tools at your own risk. Nothing Zones is not responsible for bricked devices or lost data.</p>
                <h3>License</h3>
                <p style="color:var(--text-sec);">All original content is licensed under MIT License. "Nothing" is a trademark of Nothing Technology Ltd.</p>
            </div>
        </div>
    </div>

    <div id="contactScr" class="overlay">
        <div class="modal-window">
            <div class="modal-header"><h2>CONTACT US</h2><button class="close-btn" onclick="closeScreen('contactScr')">×</button></div>
            <div class="modal-content">
                <div class="feature-item" style="margin-bottom:20px;">
                    <h4>Email Support</h4>
                    <p>rkkiller298@gmail.com</p>
                </div>
                <div class="feature-item">
                    <h4>Community Chat</h4>
                    <a href="https://t.me/techiboy_discuss" target="_blank" style="color:var(--accent); font-weight:bold;">Join Telegram Group</a>
                </div>
            </div>
        </div>
    </div>

    <div id="mini-player" onclick="restorePlayer()" style="position:fixed; bottom:20px; right:20px; width:70px; height:70px; border-radius:50%; overflow:hidden; border:3px solid var(--accent); cursor:pointer; display:none; z-index:90; box-shadow: 0 5px 20px rgba(0,0,0,0.5);">
        <img src="" id="mini-art" style="width:100%; height:100%; object-fit:cover;">
    </div>

    <script>
        /* ========================================
           CONFIGURATION & STATE
        ========================================
        */
        const CONFIG = { 
            BETA_TOOL_URL: "https://github.com/nothingcommunity/Testing/raw/refs/heads/main/Apps/Beta%20Updates%20Hub.apk", 
            SOFTWARE: {}, 
            SERVICE_DB: {} 
        };
        const DB_URL = "https://nothingcommunity-7664f-default-rtdb.firebaseio.com/chat.json";
        let currentPlaylist = [], currentIndex = 0, lastPlayedArt = "";

        /* ========================================
           CORE UI LOGIC
        ========================================
        */
        function toggleTheme() {
            const root = document.documentElement;
            const isDark = root.getAttribute('data-theme') === 'dark';
            root.setAttribute('data-theme', isDark ? 'light' : 'dark');
            document.getElementById('themeIcon').className = isDark ? "fa-solid fa-sun" : "fa-solid fa-moon";
        }

        function openScreen(id) {
            const el = document.getElementById(id);
            if(el) { 
                el.classList.add('active'); 
                if(id === 'wpScr') initWallpaperData(); 
                if(id === 'presetScr') initPresetData(); 
            }
        }

        function closeScreen(id) { 
            document.getElementById(id).classList.remove('active'); 
        }

        // Close on Outside Click
        document.querySelectorAll('.overlay').forEach(overlay => { 
            overlay.addEventListener('click', (e) => { 
                if (e.target === overlay) overlay.classList.remove('active'); 
            }); 
        });

        // Initialize App
        window.addEventListener('load', () => { 
            initSoftwareData(); 
            initServiceData(); 
            loadMessages(); 
        });

        /* ========================================
           DOWNLOAD HANDLER
        ========================================
        */
        async function runDownload(btn, input) {
            const bar = btn.querySelector('.progress-bar');
            const txt = btn.querySelector('.btn-text');
            const oldTxt = txt.innerText;
            
            let finalUrl = "";
            if (input === 'BETA_TOOL') finalUrl = CONFIG.BETA_TOOL_URL;
            else if (input === 'OTA_ZIP') {
                const device = document.getElementById('swSelect').value;
                if(!device) { alert("Please select a device first!"); return; }
                finalUrl = CONFIG.SOFTWARE[device]?.url;
            } else {
                finalUrl = input;
            }

            if (!finalUrl || finalUrl === "#") { alert("Download link currently unavailable."); return; }

            // UI Feedback
            btn.style.pointerEvents = 'none'; 
            txt.innerText = 'Starting...'; 
            bar.style.transition = 'width 1.5s linear'; 
            bar.style.width = '100%';

            setTimeout(() => {
                const link = document.createElement('a'); 
                link.href = finalUrl;
                // Force download behavior where possible
                if(finalUrl.endsWith('.zip') || finalUrl.endsWith('.apk')) link.target = "_self";
                else link.target = "_blank";
                
                document.body.appendChild(link); 
                link.click(); 
                document.body.removeChild(link);
                
                txt.innerText = "Download Started ✓"; 
                setTimeout(() => { 
                    bar.style.transition = 'none'; 
                    bar.style.width = '0%'; 
                    txt.innerText = oldTxt; 
                    btn.style.pointerEvents = 'all'; 
                }, 2000);
            }, 1000);
        }

        /* ========================================
           SOFTWARE & FIRMWARE MODULE
        ========================================
        */
        async function initSoftwareData() { 
            try { 
                const r = await fetch("https://nothingsoftware-3cc7c-default-rtdb.firebaseio.com/software_data.json"); 
                const data = await r.json();
                if(data) CONFIG.SOFTWARE = data;
            } catch (e) { console.error("Failed to load software data"); } 
        }

        function showLogs() {
            const m = document.getElementById('swSelect').value;
            const disp = document.getElementById('swDisplay');
            if(!m || !CONFIG.SOFTWARE[m]) { disp.style.display = 'none'; return; }
            
            const data = CONFIG.SOFTWARE[m];
            document.getElementById('swPhoneImg').src = data.img;
            document.getElementById('swPhoneTitle').innerText = data.disp;
            
            const logs = document.getElementById('swList');
            logs.innerHTML = (data.logs && Array.isArray(data.logs)) 
                ? data.logs.map(l => `<li>${l}</li>`).join('') 
                : "<li>No changelog notes available for this version.</li>";
            
            disp.style.display = 'block';
        }

        /* ========================================
           MUSIC PLAYER MODULE
        ========================================
        */
        async function searchMusic() {
            const q = document.getElementById('mQuery').value;
            if (!q) return;
            const btn = document.getElementById('mSearchBtn'); 
            btn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i>';
            
            try {
                // Using iTunes API for demo content
                const res = await fetch(`https://itunes.apple.com/search?limit=250&entity=song&term=${encodeURIComponent(q)}`);
                const data = await res.json();
                if (data.results.length > 0) {
                    currentPlaylist = data.results.map(s => ({ 
                        url: s.previewUrl, 
                        art: s.artworkUrl100.replace('100x100', '400x400'), 
                        title: s.trackName.toUpperCase(), 
                        artist: s.artistName 
                    }));
                    currentIndex = 0; 
                    document.getElementById('music-card').style.display = "block"; 
                    loadSong(0);
                } else {
                    alert("No tracks found. Try a different keyword.");
                }
            } catch (e) {
                console.error(e);
            } finally { 
                btn.innerHTML = '<i class="fa-solid fa-search"></i>'; 
            }
        }

        function loadSong(i) {
            if (!currentPlaylist[i]) return;
            const s = currentPlaylist[i];
            const p = document.getElementById('mPlayer');
            
            document.getElementById('mArt').src = s.art; 
            document.getElementById('mTitle').innerText = s.title; 
            document.getElementById('mArtist').innerText = s.artist;
            
            lastPlayedArt = s.art; 
            if(document.getElementById('mini-art')) document.getElementById('mini-art').src = lastPlayedArt;
            
            p.src = s.url; 
            p.load(); 
            togglePlay(true);
        }

        function togglePlay(force=false) {
            const p = document.getElementById('mPlayer');
            const i = document.querySelector('#play-pause i');
            const a = document.getElementById('mArt');
            
            if (p.paused || force) { 
                p.play().catch(()=>{}); 
                i.className = "fa-solid fa-circle-pause"; 
                a.style.animation = "spin 8s linear infinite"; 
            } else { 
                p.pause(); 
                i.className = "fa-solid fa-circle-play"; 
                a.style.animation = "none"; 
            }
        }

        // CSS Animation for spinning disc
        const styleSheet = document.createElement("style");
        styleSheet.innerText = `@keyframes spin { 100% { transform: rotate(360deg); } }`;
        document.head.appendChild(styleSheet);

        function nextSong() { 
            if(currentPlaylist.length) { 
                currentIndex = (currentIndex + 1) % currentPlaylist.length; 
                loadSong(currentIndex); 
            } 
        }

        function prevSong() { 
            if(currentPlaylist.length) { 
                currentIndex = (currentIndex - 1 + currentPlaylist.length) % currentPlaylist.length; 
                loadSong(currentIndex); 
            } 
        }

        function handleMusicClose() { 
            closeScreen('musicScr'); 
            if (!document.getElementById('mPlayer').paused) { 
                document.getElementById('mini-player').style.display = 'block'; 
                document.getElementById('mini-art').src = lastPlayedArt; 
                document.getElementById('mini-art').style.animation = "spin 8s linear infinite";
            } 
        }

        function restorePlayer() { 
            document.getElementById('mini-player').style.display = 'none'; 
            openScreen('musicScr'); 
        }

        async function downloadCurrentSong() { 
            const s = currentPlaylist[currentIndex]; 
            if(s) window.open(s.url, '_blank'); 
        }

        /* ========================================
           WALLPAPER & AI MODULE
        ========================================
        */
        async function initWallpaperData() {
            const g = document.getElementById('wallpaperGrid'); 
            if(g.innerHTML) return;
            g.innerHTML = "<p style='grid-column:span 2; text-align:center; padding:20px;'>Loading Gallery...</p>";
            
            try { 
                const r = await fetch("https://raw.githubusercontent.com/nothingcommunity/Testing/main/Wallpapers/Walls/wallpapers.json"); 
                const d = await r.json(); 
                const walls = Array.isArray(d) ? d : d.wallpapers;
                
                g.innerHTML = walls.map(w => `
                    <div class="wp-item">
                        <img src="${w.img}" loading="lazy">
                        <button class="wp-overlay-btn" onclick="runDownload(this.parentElement, '${w.url}')">DOWNLOAD</button>
                    </div>`).join(''); 
            } catch(e){
                g.innerHTML = "<p>Failed to load wallpapers.</p>";
            }
        }

        async function initPresetData() {
            const g = document.getElementById('presetGrid'); 
            if(g.innerHTML) return;
            g.innerHTML = "<p style='grid-column:span 2; text-align:center; padding:20px;'>Loading Presets...</p>";

            try { 
                const r = await fetch("https://raw.githubusercontent.com/nothingcommunity/Testing/main/Camera%20Presets/Presets/presets.json"); 
                const d = await r.json(); 
                g.innerHTML = d.map(p => `
                    <div class="wp-item">
                        <img src="${p.img}" loading="lazy">
                        <button class="wp-overlay-btn" onclick="runDownload(this.parentElement, '${p.url}')">GET PRESET</button>
                    </div>`).join(''); 
            } catch(e){
                g.innerHTML = "<p>Failed to load presets.</p>";
            }
        }

        async function generateAIWall() {
            const p = document.getElementById('aiPrompt').value.trim(); 
            if(!p) { alert("Please describe your wallpaper first."); return; }
            
            const btn = document.getElementById('genBtn'); 
            btn.style.pointerEvents = 'none'; 
            btn.querySelector('.btn-text').innerText = 'Generating...';
            
            const r = document.getElementById('aiRatio').value === "16:9" ? [1920, 1080] : (document.getElementById('aiRatio').value === "1:1" ? [1080, 1080] : [1080, 1920]);
            const seed = Math.floor(Math.random() * 10000);
            const url = `https://image.pollinations.ai/prompt/${encodeURIComponent(p + ", nothing style, minimal, abstract, high quality, 8k")}?width=${r[0]}&height=${r[1]}&seed=${seed}&nologo=true&model=flux`;
            
            const img = document.getElementById('aiImg'); 
            img.onload = () => { 
                document.getElementById('aiResult').style.display = 'block'; 
                btn.querySelector('.btn-text').innerText = 'GENERATE NEW'; 
                btn.style.pointerEvents = 'all'; 
            }; 
            img.src = url;
        }

        function downloadAIWall(btn) { 
            const a = document.createElement('a'); 
            a.href = document.getElementById('aiImg').src; 
            a.download = "Nothing_AI_Generated.png"; 
            a.click(); 
        }

        /* ========================================
           SERVICE & CHAT MODULE
        ========================================
        */
        async function initServiceData() { 
            try { 
                const r = await fetch("https://raw.githubusercontent.com/nothingcommunity/Testing/main/Service%20Centre/service_centre.json"); 
                CONFIG.SERVICE_DB = await r.json(); 
            } catch(e){} 
        }

        function loadCities() { 
            const s = document.getElementById('state').value, c = document.getElementById('city'); 
            c.innerHTML = '<option value="">Select City</option>'; 
            c.style.display = s && CONFIG.SERVICE_DB[s] ? 'block' : 'none';
            if(s && CONFIG.SERVICE_DB[s]) {
                const cities = [...new Set(Object.keys(CONFIG.SERVICE_DB[s]).map(x => x.split('_')[0]))].sort();
                cities.forEach(x => c.innerHTML += `<option value="${x}">${x}</option>`);
            }
        }

        function showDetails() {
            const s = document.getElementById('state').value, c = document.getElementById('city').value, i = document.getElementById('scInfo');
            if(!c) return; 
            i.innerHTML = '';
            
            const centers = Object.keys(CONFIG.SERVICE_DB[s]).filter(k => k === c || k.startsWith(c + "_"));
            centers.forEach(k => {
                const d = CONFIG.SERVICE_DB[s][k];
                i.innerHTML += `
                    <div style="background:var(--bg); padding:20px; border-radius:12px; margin-bottom:15px; border:1px solid var(--border);">
                        <h3 style="margin-bottom:5px;">${d.n}</h3>
                        <p style="font-size:0.9rem; color:var(--text-sec); margin-bottom:10px;">${d.a}</p>
                        <p style="font-size:0.8rem; margin-bottom:15px;"><i class="fa-regular fa-clock"></i> ${d.t}</p>
                        <div style="display:flex; gap:10px;">
                            <button class="btn-primary" style="margin:0; padding:10px; font-size:0.8rem; width:auto;" onclick="window.open('tel:${d.p}')">CALL NOW</button>
                            <button class="btn-primary" style="margin:0; padding:10px; font-size:0.8rem; width:auto;" onclick="window.open('${d.m}')">GET DIRECTIONS</button>
                        </div>
                    </div>`;
            });
        }

        /* ========================================
           CHAT SYSTEM (FIREBASE)
        ========================================
        */
        let userUUID = localStorage.getItem('ns_user_uuid');
        if(!userUUID) { userUUID = 'uid_' + Date.now().toString(36); localStorage.setItem('ns_user_uuid', userUUID); }

        async function sendMsg() {
            const txt = document.getElementById('userMsg').value.trim(); 
            if(!txt) return;
            
            let name = localStorage.getItem('ns_user_fixed'); 
            if(!name) { 
                name = prompt("Please enter your name for the community:"); 
                if(name) localStorage.setItem('ns_user_fixed', name); 
                else return; 
            }

            try {
                await fetch(DB_URL, { 
                    method: 'POST', 
                    body: JSON.stringify({ userName: name, text: txt, timestamp: Date.now(), uuid: userUUID }) 
                });
                document.getElementById('userMsg').value = ""; 
                loadMessages();
            } catch(e) { alert("Message failed to send."); }
        }

        async function loadMessages() {
            try { 
                const r = await fetch(DB_URL); 
                const d = await r.json();
                const b = document.getElementById('msgBoard'); 
                
                if(!d) { b.innerHTML='<p style="text-align:center; padding:20px; opacity:0.6;">No messages yet. Be the first!</p>'; return; }
                
                // Limit to last 50 messages to prevent lag
                const msgs = Object.values(d).slice(-50);
                
                b.innerHTML = msgs.map(m => `
                    <div style="background:var(--surface); padding:12px 16px; border-radius:16px; margin-bottom:12px; border:1px solid var(--border); border-bottom-left-radius: 4px;">
                        <span style="color:var(--accent); font-size:0.75rem; font-weight:700; display:block; margin-bottom:4px;">${m.userName || 'Anonymous'}</span>
                        <p style="line-height:1.4;">${m.text}</p>
                        ${m.reply ? `<div style="margin-top:8px; font-size:0.85rem; color:var(--text-main); background:rgba(215, 25, 33, 0.1); padding:8px; border-radius:8px; border-left:3px solid var(--accent);"><strong>Admin:</strong> ${m.reply}</div>` : ''}
                    </div>`).join('');
                
                b.scrollTop = b.scrollHeight; 
            } catch(e){}
        }
    </script>
</body>
</html>
